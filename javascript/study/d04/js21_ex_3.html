<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§ ë‹¬ë¦¬ì</title>
</head>
<style>
    #start {
        width: 100px;
        height: 50px;
        font-size: 20px;
    }

    #line {
        width: 800px;

        border-right: solid 2px black;
    }
    #box{
        width: 1280px;
        height: 900px;
    }
</style>

<script>
    var rank = [];
    function start() {
        rank = [];
        // rank ì´ˆê¸°í™”
        document.getElementById("rank1").innerHTML = "";
        document.getElementById("rank2").innerHTML = "";
        document.getElementById("rank3").innerHTML = "";
        document.getElementById("rank4").innerHTML = "";
        
        // ê²½ê¸° ì‹œì‘ ì‹œ start ë²„íŠ¼ ì œê±°
        document.getElementById("start").style.display = 'none';

        // ë§ ìœ„ì¹˜ ì´ˆê¸°í™”
        document.getElementById("h1").style.marginLeft = '0px';
        document.getElementById("h2").style.marginLeft = '0px';
        document.getElementById("h3").style.marginLeft = '0px';
        document.getElementById("h4").style.marginLeft = '0px';

        // gamingí‘ì…˜ì„ 100msë§ˆë‹¤ ì‹¤í–‰
        timerId = setInterval(gaming, 100);
    }
    function gaming() {
        // ë§ì„ 0~50ë§Œí¼ ëœë¤ìœ¼ë¡œ ì´ë™
        document.getElementById("h1").style.marginLeft =
            parseInt(document.getElementById("h1").style.marginLeft) + parseInt(Math.random() * 50) + 'px';
        document.getElementById("h2").style.marginLeft =
            parseInt(document.getElementById("h2").style.marginLeft) + parseInt(Math.random() * 50) + 'px';
        document.getElementById("h3").style.marginLeft =
            parseInt(document.getElementById("h3").style.marginLeft) + parseInt(Math.random() * 50) + 'px';
        document.getElementById("h4").style.marginLeft =
            parseInt(document.getElementById("h4").style.marginLeft) + parseInt(Math.random() * 50) + 'px';

        // rank ì²´í¬
        // .push() = java ArrayList.add();
        if (parseInt(document.getElementById("h1").style.marginLeft) > 800) {
            document.getElementById("h1").style.marginLeft = '810px';
            if (!rank.includes(1)) {
                rank.push(1);
            }
        }
        if (parseInt(document.getElementById("h2").style.marginLeft) > 800) {
            document.getElementById("h2").style.marginLeft = '810px';
            if (!rank.includes(2)) {
                rank.push(2);
            }
        }
        if (parseInt(document.getElementById("h3").style.marginLeft) > 800) {
            document.getElementById("h3").style.marginLeft = '810px';
            if (!rank.includes(3)) {
                rank.push(3);
            }
        }
        if (parseInt(document.getElementById("h4").style.marginLeft) > 800) {
            document.getElementById("h4").style.marginLeft = '810px';
            if (!rank.includes(4)) {
                rank.push(4);
            }
        }

        // ëª¨ë“  ë§ì´ ê²°ìŠ¹ì ì— ë„ë‹¬ í–ˆì„ ë•Œ
        // clearInterval(timerId)ë¡œ ì¢…ë£Œ
        if (parseInt(document.getElementById("h1").style.marginLeft) > 800 &&
            parseInt(document.getElementById("h2").style.marginLeft) > 800 &&
            parseInt(document.getElementById("h3").style.marginLeft) > 800 &&
            parseInt(document.getElementById("h4").style.marginLeft) > 800
        ) {
            clearInterval(timerId);
            // rank[0]~rank[3]ì´ ìˆœìœ„ ì´ë¯€ë¡œ htmlë¡œ ë¦¬í„´í•˜ì—¬ ëª‡ë²ˆ ë§ì´ ì´ê²¼ëŠ”ì§€ ì¶œë ¥
            document.getElementById("rank1").innerHTML =rank[0] +"ë²ˆ ë§ ğŸ‰";
            document.getElementById("rank2").innerHTML = rank[1] +"ë²ˆ ë§";
            document.getElementById("rank3").innerHTML = rank[2] +"ë²ˆ ë§";
            document.getElementById("rank4").innerHTML = rank[3] +"ë²ˆ ë§";
            // ê²Œì„ ì‹œì‘ í•  ë•Œ ì§€ì›Œë†¨ë˜(none) startë²„íŠ¼ inlineìœ¼ë¡œ ë‹¤ì‹œ ìƒì„±
            document.getElementById("start").style.display = 'inline';
        }
    }
</script>

<body>

    <div id="box">
    <!-- buuton -->
    <button onclick="start()" id=start>START</button><br>
    <!-- ê²½ê¸° ì§„í–‰ í™”ë©´ -->
    <div id="line">
        <hr>
        <img src="img/h.gif" id="h1" width=80 height=80><br>
        <hr>
        <img src="img/h.gif" id="h2" width=80 height=80><br>
        <hr>
        <img src="img/h.gif" id="h3" width=80 height=80><br>
        <hr>
        <img src="img/h.gif" id="h4" width=80 height=80><br>
        <hr>
    </div>
    <!-- ê²½ê¸° ì¢…ë£Œ í›„ rank ì¶œë ¥ í™”ë©´ -->
    <div id="rank">
        1ë“± : <b><span id="rank1"></b></span><br>
        2ë“± : <span id="rank2"></span><br>
        3ë“± : <span id="rank3"></span><br>
        4ë“± : <span id="rank4"></span><br>
    </div>
</div>
</body>

</html>